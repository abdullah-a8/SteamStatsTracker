{"ast":null,"code":"import _defineProperty from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Button from'react-bootstrap/Button';import{Redirect}from'react-router-dom';import{CurrentHeaderButton,HeaderButton,HeadContainer,HeaderNavBar,HeaderImage}from'../HeaderComponent';import logo from'./../../steamIcon2.png';import checkmark from'./imgs/checkmark.jpg';import cross from'./imgs/cross.jpg';import help from'./imgs/help.png';import ENV from'../../config';import'bootstrap/dist/css/bootstrap.min.css';import'./Signup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var log=console.log;var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userName:'',passWord:'',passWord2:'',steamName:'',valid_username:false,valid_steamID:false,valid_pw1:false,valid_pw2:false,showHelp:false};_this.handleInputChange=function(event){var target=event.target;var value=target.value;var name=target.name;_this.setState(_defineProperty({},name,value));// if the username changed, check if the new one is already in use\n// and disable the signup button if it is\nif(name==='userName'){fetch(\"/usernames/\".concat(value)).then(function(res){if(res.status===404&&value.length>0){_this.setState({valid_username:true});if(value.toLowerCase().startsWith('admin')){_this.setState({valid_username:false});}}else if(res.status===200||value.length<1){_this.setState({valid_username:false});}});}// check that a valid steam ID has been entered\nif(name==='steamName'){fetch(\"/steamapi/userinfo/?key=\".concat(ENV.steam_key,\"&steamids=\").concat(value)).then(function(res){return res.json();}).then(function(json){if(json.response.players.length>0&&json.response.players[0].communityvisibilitystate===3){_this.setState({valid_steamID:true});}else{_this.setState({valid_steamID:false});}});}// set states for passwords\nif(name==='passWord'){if(value.length>=4){_this.setState({valid_pw1:true});}else{_this.setState({valid_pw1:false});}if(value===_this.state.passWord2){_this.setState({valid_pw2:true});}else{_this.setState({valid_pw2:false});}}if(name==='passWord2'){if(value===_this.state.passWord){_this.setState({valid_pw2:true});}else{_this.setState({valid_pw2:false});}}};_this.handleSignup=function(){if(_this.state.userName==''||_this.state.passWord==''||_this.state.steamName==''){alert('some input fields are empty');return;}if(_this.state.passWord!==_this.state.passWord2){alert('Passwords do not match');return;}if(_this.state.passWord.length<4){alert('password must be at least 4 characters');return;}var requestOptions={method:'POST',redirect:'follow',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:_this.state.userName,password:_this.state.passWord,steamName:_this.state.steamName})};// post the request to the backend to create an account\nfetch('/users',requestOptions).then(function(res){if(res.status===400){alert('server error: account not created');}else if(res.status===200){alert('Account creation successful! Please proceed to log in.');_this.setState({redirect:'/Login'});}});};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this2=this;if(this.state.redirect){return/*#__PURE__*/_jsx(Redirect,{to:this.state.redirect});}return/*#__PURE__*/_jsxs(\"div\",{id:\"LoginPage\",children:[/*#__PURE__*/_jsx(HeadContainer,{bgId:\"dashboard\",children:/*#__PURE__*/_jsxs(HeaderNavBar,{children:[/*#__PURE__*/_jsx(HeaderImage,{to:\"/\",src:logo}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(HeaderButton,{path:\"/reviewForum\",children:\"Forum\"}),/*#__PURE__*/_jsx(HeaderButton,{path:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"slash\",children:\"/\"}),/*#__PURE__*/_jsx(CurrentHeaderButton,{path:\"/Signup\",children:\"Sign Up\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"SignupContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"loginText\",children:\"Please enter your details:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"FieldContainer\",children:/*#__PURE__*/_jsx(\"input\",{className:\"SignupField\",value:this.state.userName,onChange:this.handleInputChange,type:\"text\",name:\"userName\",placeholder:\"Create a username\",autoFocus:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgValidityCheck\",children:/*#__PURE__*/_jsx(\"img\",{src:this.state.valid_username?checkmark:cross})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"FieldContainer\",children:/*#__PURE__*/_jsx(\"input\",{className:\"SignupField\",value:this.state.passWord,onChange:this.handleInputChange,type:\"password\",name:\"passWord\",placeholder:\"Create a password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgValidityCheck\",children:/*#__PURE__*/_jsx(\"img\",{src:this.state.valid_pw1?checkmark:cross})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"FieldContainer\",children:/*#__PURE__*/_jsx(\"input\",{className:\"SignupField\",value:this.state.passWord2,onChange:this.handleInputChange,type:\"password\",name:\"passWord2\",placeholder:\"Confirm password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgValidityCheck\",children:/*#__PURE__*/_jsx(\"img\",{src:this.state.valid_pw1&&this.state.valid_pw2?checkmark:cross})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"inputField4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"helpIcon\",children:/*#__PURE__*/_jsx(\"img\",{src:help,onMouseEnter:function onMouseEnter(){_this2.setState({showHelp:true});},onMouseOut:function onMouseOut(){_this2.setState({showHelp:false});},onClick:function onClick(){window.open(\"/SteamInfo\");},name:\"helpIcon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"FieldContainer\",children:/*#__PURE__*/_jsx(\"input\",{className:\"SignupField\",value:this.state.steamName,onChange:this.handleInputChange,type:\"text\",name:\"steamName\",placeholder:\"Enter Steam ID\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgValidityCheck\",children:/*#__PURE__*/_jsx(\"img\",{src:this.state.valid_steamID?checkmark:cross})})]}),!this.state.showHelp||/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{id:\"helpText\",children:\"Don't know your Steam ID? Click here to find out how to get it!\"})}),/*#__PURE__*/_jsx(Button,{className:\"SignUpButton\",variant:\"primary\",disabled:!(this.state.valid_username&&this.state.valid_steamID&&this.state.valid_pw1&&this.state.valid_pw2),onClick:this.handleSignup,children:\"Sign Up\"})]})]});}}]);return Signup;}(React.Component);export default Signup;","map":{"version":3,"sources":["/home/abdullah/steam_achievement_tracker-main/achievement-tracker/src/react-components/Signup/index.js"],"names":["React","Button","Redirect","CurrentHeaderButton","HeaderButton","HeadContainer","HeaderNavBar","HeaderImage","logo","checkmark","cross","help","ENV","log","console","Signup","state","userName","passWord","passWord2","steamName","valid_username","valid_steamID","valid_pw1","valid_pw2","showHelp","handleInputChange","event","target","value","name","setState","fetch","then","res","status","length","toLowerCase","startsWith","steam_key","json","response","players","communityvisibilitystate","handleSignup","alert","requestOptions","method","redirect","headers","body","JSON","stringify","username","password","window","open","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Button from 'react-bootstrap/Button'\n\nimport { Redirect } from 'react-router-dom'\n\nimport { CurrentHeaderButton, HeaderButton, HeadContainer, HeaderNavBar, HeaderImage } from '../HeaderComponent'\n\nimport logo from './../../steamIcon2.png'\nimport checkmark from './imgs/checkmark.jpg'\nimport cross from './imgs/cross.jpg'\nimport help from './imgs/help.png'\n\nimport ENV from '../../config'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './Signup.css';\n\nconst log = console.log\n\nclass Signup extends React.Component {\n\n  state = {\n    userName: '',\n    passWord: '',\n    passWord2: '',\n    steamName: '',\n    valid_username: false,\n    valid_steamID: false,\n    valid_pw1: false,\n    valid_pw2: false,\n    showHelp: false\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target\n    const value = target.value\n    const name = target.name\n\n    this.setState({ [name]: value })\n\n    // if the username changed, check if the new one is already in use\n    // and disable the signup button if it is\n    if (name === 'userName') {\n      fetch(`/usernames/${value}`)\n        .then(res => {\n          if (res.status === 404 && value.length > 0) {\n            this.setState({ valid_username: true })\n            if (value.toLowerCase().startsWith('admin')) {\n              this.setState({ valid_username: false })\n            }\n          } else if (res.status === 200 || value.length < 1) {\n            this.setState({ valid_username: false })\n          }\n        })\n    }\n\n    // check that a valid steam ID has been entered\n    if (name === 'steamName') {\n      fetch(`/steamapi/userinfo/?key=${ENV.steam_key}&steamids=${value}`)\n        .then(res => { return res.json() })\n        .then(json => {\n          if (json.response.players.length > 0 && json.response.players[0].communityvisibilitystate === 3) {\n            this.setState({ valid_steamID: true })\n          } else {\n            this.setState({ valid_steamID: false })\n          }\n        })\n    }\n\n    // set states for passwords\n    if (name === 'passWord') {\n      if (value.length >= 4) {\n        this.setState({ valid_pw1: true })\n      } else {\n        this.setState({ valid_pw1: false })\n      }\n      if (value === this.state.passWord2) {\n        this.setState({ valid_pw2: true })\n      } else {\n        this.setState({ valid_pw2: false })\n      }\n    }\n    if (name === 'passWord2') {\n      if (value === this.state.passWord) {\n        this.setState({ valid_pw2: true })\n      } else {\n        this.setState({ valid_pw2: false })\n      }\n    }\n  }\n\n  // some checks for signup and handling of the signup action\n  handleSignup = () => {\n    if (this.state.userName == '' ||\n      this.state.passWord == '' ||\n      this.state.steamName == '') {\n      alert('some input fields are empty')\n      return\n    }\n    if (this.state.passWord !== this.state.passWord2) {\n      alert('Passwords do not match')\n      return\n    }\n    if (this.state.passWord.length < 4) {\n      alert('password must be at least 4 characters')\n      return\n    }\n    const requestOptions = {\n      method: 'POST',\n      redirect: 'follow',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        username: this.state.userName,\n        password: this.state.passWord,\n        steamName: this.state.steamName\n      })\n    };\n    // post the request to the backend to create an account\n    fetch('/users', requestOptions)\n      .then(res => {\n        if (res.status === 400) {\n          alert('server error: account not created')\n        } else if (res.status === 200) {\n          alert('Account creation successful! Please proceed to log in.')\n          this.setState({ redirect: '/Login' })\n        }\n      })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n    return (\n      <div id='LoginPage'>\n        <HeadContainer bgId={\"dashboard\"}>\n          <HeaderNavBar>\n            <HeaderImage to='/' src={logo} />\n            <div className='group'>\n              <HeaderButton path='/reviewForum'>Forum</HeaderButton>\n              <HeaderButton path='/login'>Login</HeaderButton>\n              <span className=\"slash\">/</span>\n              <CurrentHeaderButton path=\"/Signup\">Sign Up</CurrentHeaderButton>\n            </div>\n          </HeaderNavBar>\n        </HeadContainer>\n        <div id=\"SignupContainer\">\n          <p className='loginText'>Please enter your details:</p>\n\n          <div>\n            <div className=\"FieldContainer\">\n              <input className=\"SignupField\"\n                value={this.state.userName}\n                onChange={this.handleInputChange}\n                type='text'\n                name='userName'\n                placeholder='Create a username'\n                autoFocus></input>\n            </div>\n            <div className=\"imgValidityCheck\">\n              <img src={this.state.valid_username ? checkmark : cross} />\n            </div>\n          </div>\n\n          <div>\n            <div className=\"FieldContainer\">\n              <input className=\"SignupField\"\n                value={this.state.passWord}\n                onChange={this.handleInputChange}\n                type='password'\n                name='passWord'\n                placeholder='Create a password'></input>\n            </div>\n            <div className=\"imgValidityCheck\">\n              <img src={this.state.valid_pw1 ? checkmark : cross} />\n            </div>\n          </div>\n\n          <div>\n            <div className=\"FieldContainer\">\n              <input className=\"SignupField\"\n                value={this.state.passWord2}\n                onChange={this.handleInputChange}\n                type='password'\n                name='passWord2'\n                placeholder='Confirm password'></input>\n            </div>\n            <div className=\"imgValidityCheck\">\n              <img src={this.state.valid_pw1 && this.state.valid_pw2 ? checkmark : cross} />\n            </div>\n          </div>\n\n          <div id=\"inputField4\">\n            <div className=\"helpIcon\">\n              <img src={help}\n                onMouseEnter={() => { this.setState({ showHelp: true }) }}\n                onMouseOut={() => { this.setState({ showHelp: false }) }}\n                onClick={() => { window.open(\"/SteamInfo\") }}\n                name=\"helpIcon\" />\n            </div>\n            <div className=\"FieldContainer\">\n              <input className=\"SignupField\"\n                value={this.state.steamName}\n                onChange={this.handleInputChange}\n                type='text'\n                name='steamName'\n                placeholder='Enter Steam ID'></input>\n            </div>\n            <div className=\"imgValidityCheck\">\n              <img src={this.state.valid_steamID ? checkmark : cross} />\n            </div>\n          </div>\n\n          {!(this.state.showHelp) || <div>\n            <span id=\"helpText\">Don't know your Steam ID? Click here to find out how to get it!</span>\n          </div>}\n\n          <Button className=\"SignUpButton\"\n            variant=\"primary\"\n            disabled={!(this.state.valid_username && this.state.valid_steamID &&\n              this.state.valid_pw1 && this.state.valid_pw2)}\n            onClick={this.handleSignup}>Sign Up\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}