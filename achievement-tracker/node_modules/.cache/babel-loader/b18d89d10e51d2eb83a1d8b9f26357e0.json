{"ast":null,"code":"const log = console.log;\nexport const getUsersOnAdmin = adminPage => {\n  const url = '/api/users';\n  fetch(url).then(res => {\n    if (res.status === 200) {\n      return res.json();\n    } else {\n      log('Error: Cannot get users');\n    }\n  }).then(json => {\n    const users = json.users.filter(user => {\n      return !user.username.startsWith(\"admin\");\n    });\n    adminPage.setState({\n      users: users,\n      usersOnPage: users\n    });\n  }).catch(error => {\n    log(error);\n  });\n};\nexport const deleteUserOnAdmin = user => {\n  const url = `/api/users/${user.username}`;\n  const request = new Request(url, {\n    method: 'delete',\n    body: JSON.stringify(user),\n    headers: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    }\n  });\n  fetch(request).then(function (res) {\n    if (res.status === 200) {\n      log(\"User deleted\");\n    } else {\n      log(\"Error: Cannot delete user\");\n    }\n  }).catch(error => {\n    log(error);\n  });\n};","map":{"version":3,"sources":["/home/abdullah/steam_achievement_tracker-main/achievement-tracker/src/actions/user.js"],"names":["log","console","getUsersOnAdmin","adminPage","url","fetch","then","res","status","json","users","filter","user","username","startsWith","setState","usersOnPage","catch","error","deleteUserOnAdmin","request","Request","method","body","JSON","stringify","headers"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAACD,GAApB;AAEA,OAAO,MAAME,eAAe,GAAIC,SAAD,IAAe;AAC1C,QAAMC,GAAG,GAAG,YAAZ;AAEAC,EAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACWC,GAAD,IAAS;AACX,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACH,KAFD,MAEO;AACHT,MAAAA,GAAG,CAAC,yBAAD,CAAH;AACH;AACJ,GAPL,EAQKM,IARL,CAQWG,IAAD,IAAU;AACZ,UAAMC,KAAK,GAAGD,IAAI,CAACC,KAAL,CAAWC,MAAX,CAAkBC,IAAI,IAAI;AACpC,aAAO,CAACA,IAAI,CAACC,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAR;AACH,KAFa,CAAd;AAGAX,IAAAA,SAAS,CAACY,QAAV,CAAmB;AACfL,MAAAA,KAAK,EAAEA,KADQ;AAEfM,MAAAA,WAAW,EAAEN;AAFE,KAAnB;AAIH,GAhBL,EAiBKO,KAjBL,CAiBYC,KAAD,IAAW;AACdlB,IAAAA,GAAG,CAACkB,KAAD,CAAH;AACH,GAnBL;AAoBH,CAvBM;AAyBP,OAAO,MAAMC,iBAAiB,GAAIP,IAAD,IAAU;AACvC,QAAMR,GAAG,GAAI,cAAaQ,IAAI,CAACC,QAAS,EAAxC;AAEA,QAAMO,OAAO,GAAG,IAAIC,OAAJ,CAAYjB,GAAZ,EAAiB;AAC7BkB,IAAAA,MAAM,EAAE,QADqB;AAE7BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAFuB;AAG7Bc,IAAAA,OAAO,EAAE;AACL,gBAAU,mCADL;AAEL,sBAAgB;AAFX;AAHoB,GAAjB,CAAhB;AASArB,EAAAA,KAAK,CAACe,OAAD,CAAL,CACKd,IADL,CACU,UAAUC,GAAV,EAAe;AACjB,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpBR,MAAAA,GAAG,CAAC,cAAD,CAAH;AACH,KAFD,MAEO;AACHA,MAAAA,GAAG,CAAC,2BAAD,CAAH;AACH;AACJ,GAPL,EAOOiB,KAPP,CAOcC,KAAD,IAAW;AAChBlB,IAAAA,GAAG,CAACkB,KAAD,CAAH;AACH,GATL;AAUH,CAtBM","sourcesContent":["const log = console.log\n\nexport const getUsersOnAdmin = (adminPage) => {\n    const url = '/api/users'\n\n    fetch(url)\n        .then((res) => {\n            if (res.status === 200) {\n                return res.json()\n            } else {\n                log('Error: Cannot get users')\n            }\n        })\n        .then((json) => {\n            const users = json.users.filter(user => {\n                return !user.username.startsWith(\"admin\")\n            })\n            adminPage.setState({\n                users: users,\n                usersOnPage: users\n            })\n        })\n        .catch((error) => {\n            log(error)\n        })\n}\n\nexport const deleteUserOnAdmin = (user) => {\n    const url = `/api/users/${user.username}`\n\n    const request = new Request(url, {\n        method: 'delete',\n        body: JSON.stringify(user),\n        headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n        }\n    })\n\n    fetch(request)\n        .then(function (res) {\n            if (res.status === 200) {\n                log(\"User deleted\")\n            } else {\n                log(\"Error: Cannot delete user\")\n            }\n        }).catch((error) => {\n            log(error)\n        })\n}"]},"metadata":{},"sourceType":"module"}