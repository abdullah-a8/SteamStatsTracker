{"ast":null,"code":"import _regeneratorRuntime from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{CurrentHeaderButton,HeaderButton,HeadContainer,HeaderNavBar,HeaderImage}from'../HeaderComponent';import sampleProfilePic from\"./imgs/sampleProfilePic.jpg\";import logo from'./../../steamIcon2.png';import\"bootstrap/dist/css/bootstrap.min.css\";import{storeImage,getImage}from'../../actions/profilePic';import{logout,changePassword}from'../../actions/reactAuth';import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccountSettings=/*#__PURE__*/function(_React$Component){_inherits(AccountSettings,_React$Component);var _super=_createSuper(AccountSettings);function AccountSettings(props){var _this;_classCallCheck(this,AccountSettings);_this=_super.call(this,props);_this.editAction=function(input){if(document.getElementById(input).className===\"hide\"){document.getElementById(input).className=\"show\";var button=document.getElementById(input).parentElement.lastChild;button.innerHTML=\"Save\";button.style.backgroundColor=\"#007bff\";button.style.borderColor=\"#007bff\";}else{document.getElementById(input).className=\"hide\";_this.setState(_defineProperty({},input,document.getElementById(input).value));if(input===\"passwordInput\"){var newPassword=document.getElementById(input).value;console.log(newPassword);changePassword(newPassword);_this.setState({passwordHidden:false});}var _button=document.getElementById(input).parentElement.lastChild;_button.innerHTML=\"Edit\";_button.style.backgroundColor=\"#6c757d\";_button.style.borderColor=\"#6c757d\";}};_this._handleReaderLoaded=function(readerEvent){var binaryString=readerEvent.target.result;_this.setState({uploadImage:btoa(binaryString)});};_this.handleSumbitImage=function(e){e.preventDefault();storeImage(_assertThisInitialized(_this));};_this.handleselectedFile=function(e){var file=e.target.files[0];if(file){var reader=new FileReader();reader.onload=_this._handleReaderLoaded.bind(_assertThisInitialized(_this));reader.readAsBinaryString(file);}};var userName=_this.props.app.state.currentUser;_this.state={userName:userName,passwordInput:\"\",passwordHidden:true,steamInput:\"PolarisTM\",ubisoftInput:\"Polaris04\",playstationInput:\"Dancin9D0nZ\",xboxInput:\"N/A\",image:\"\",uploadImage:\"\"};_this.handleSumbitImage=_this.handleSumbitImage.bind(_assertThisInitialized(_this));return _this;}_createClass(AccountSettings,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getImage(this.state.userName,this);case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"AccountSettingsPage\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"HeaderSection\",children:/*#__PURE__*/_jsx(HeadContainer,{bgId:\"dashboard\",children:/*#__PURE__*/_jsxs(HeaderNavBar,{children:[/*#__PURE__*/_jsx(HeaderImage,{to:\"/dashboard\",src:logo}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(HeaderButton,{path:\"/Dashboard\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(HeaderButton,{path:\"/ReviewForum\",children:\"Forum\"}),/*#__PURE__*/_jsx(HeaderButton,{path:\"/Analytics\",children:\"Analytics\"}),/*#__PURE__*/_jsx(CurrentHeaderButton,{path:\"/AccountSettings\",children:\"Settings\"}),/*#__PURE__*/_jsx(HeaderButton,{path:\"/\",logoutFunc:function logoutFunc(){logout(_this2.props.app);},children:\"Log Out\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{id:\"TitleSection\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" Account Settings for \",this.state.userName,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"ProfilePicBlock\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Profile Picture \"}),/*#__PURE__*/_jsxs(\"div\",{id:\"ProfilePicSection\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"ProfilePicDisplay\",children:[this.state.image===\"\"?/*#__PURE__*/_jsx(\"img\",{id:\"CurrentProfilePic\",src:sampleProfilePic}):/*#__PURE__*/_jsx(\"img\",{id:\"CurrentProfilePic\",src:\"data:image/png;base64,\"+this.state.image}),/*#__PURE__*/_jsx(\"div\",{id:\"ProfilePicCaption\",children:/*#__PURE__*/_jsx(\"span\",{children:\" Current Picture \\u25B2 \"})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"UploadProfilePic\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" Upload a new image: \"}),/*#__PURE__*/_jsxs(\"form\",{onChange:this.handleselectedFile,onSubmit:this.handleSumbitImage,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",accept:\".jpeg, .png, .jpg\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"UserDetailsSection\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" User Details \"}),/*#__PURE__*/_jsx(\"div\",{className:\"TextInputButton\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.userName,\" \"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"TextInputButton\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" Password: \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",this.state.passwordHidden?\"*\".repeat(8):this.state.passwordInput,\" \"]})]}),/*#__PURE__*/_jsx(\"input\",{className:\"hide\",type:\"text\",id:\"passwordInput\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){_this2.editAction(\"passwordInput\");},children:\"Edit\"})]})]})]});}}]);return AccountSettings;}(React.Component);export default AccountSettings;","map":{"version":3,"sources":["/home/abdullah/steam_achievement_tracker-main/achievement-tracker/src/react-components/AccountSettings/index.js"],"names":["React","CurrentHeaderButton","HeaderButton","HeadContainer","HeaderNavBar","HeaderImage","sampleProfilePic","logo","storeImage","getImage","logout","changePassword","AccountSettings","props","editAction","input","document","getElementById","className","button","parentElement","lastChild","innerHTML","style","backgroundColor","borderColor","setState","value","newPassword","console","log","passwordHidden","_handleReaderLoaded","readerEvent","binaryString","target","result","uploadImage","btoa","handleSumbitImage","e","preventDefault","handleselectedFile","file","files","reader","FileReader","onload","bind","readAsBinaryString","userName","app","state","currentUser","passwordInput","steamInput","ubisoftInput","playstationInput","xboxInput","image","repeat","Component"],"mappings":"+7CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,mBAAT,CAA8BC,YAA9B,CAA4CC,aAA5C,CAA2DC,YAA3D,CAAyEC,WAAzE,KAA4F,oBAA5F,CAEA,MAAOC,CAAAA,gBAAP,KAA6B,6BAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAO,sCAAP,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,0BAArC,CAEA,OAASC,MAAT,CAAiBC,cAAjB,KAAuC,yBAAvC,CAEA,MAAO,aAAP,C,2FAEMC,CAAAA,e,8HACF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EADe,MAwBnBC,UAxBmB,CAwBN,SAAAC,KAAK,CAAI,CAClB,GAAIC,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BG,SAA/B,GAA6C,MAAjD,CAAyD,CACrDF,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BG,SAA/B,CAA2C,MAA3C,CACA,GAAIC,CAAAA,MAAM,CAAGH,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BK,aAA/B,CAA6CC,SAA1D,CACAF,MAAM,CAACG,SAAP,CAAmB,MAAnB,CACAH,MAAM,CAACI,KAAP,CAAaC,eAAb,CAA+B,SAA/B,CACAL,MAAM,CAACI,KAAP,CAAaE,WAAb,CAA2B,SAA3B,CACH,CAND,IAMO,CACHT,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BG,SAA/B,CAA2C,MAA3C,CACA,MAAKQ,QAAL,oBACKX,KADL,CACaC,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BY,KAD5C,GAGA,GAAIZ,KAAK,GAAK,eAAd,CAA+B,CAC3B,GAAMa,CAAAA,WAAW,CAAGZ,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BY,KAAnD,CACAE,OAAO,CAACC,GAAR,CAAYF,WAAZ,EACAjB,cAAc,CAACiB,WAAD,CAAd,CACA,MAAKF,QAAL,CAAc,CAAEK,cAAc,CAAE,KAAlB,CAAd,EACH,CACD,GAAIZ,CAAAA,OAAM,CAAGH,QAAQ,CAACC,cAAT,CAAwBF,KAAxB,EAA+BK,aAA/B,CAA6CC,SAA1D,CACAF,OAAM,CAACG,SAAP,CAAmB,MAAnB,CACAH,OAAM,CAACI,KAAP,CAAaC,eAAb,CAA+B,SAA/B,CACAL,OAAM,CAACI,KAAP,CAAaE,WAAb,CAA2B,SAA3B,CACH,CACJ,CA/CkB,OAiDnBO,mBAjDmB,CAiDG,SAACC,WAAD,CAAiB,CACnC,GAAMC,CAAAA,YAAY,CAAGD,WAAW,CAACE,MAAZ,CAAmBC,MAAxC,CACA,MAAKV,QAAL,CAAc,CACVW,WAAW,CAAEC,IAAI,CAACJ,YAAD,CADP,CAAd,EAGH,CAtDkB,OAwDnBK,iBAxDmB,CAwDC,SAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACAjC,UAAU,+BAAV,CACH,CA3DkB,OA6DnBkC,kBA7DmB,CA6DE,SAACF,CAAD,CAAO,CACxB,GAAMG,CAAAA,IAAI,CAAGH,CAAC,CAACL,MAAF,CAASS,KAAT,CAAe,CAAf,CAAb,CACA,GAAID,IAAJ,CAAU,CACN,GAAME,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAf,CACAD,MAAM,CAACE,MAAP,CAAgB,MAAKf,mBAAL,CAAyBgB,IAAzB,+BAAhB,CACAH,MAAM,CAACI,kBAAP,CAA0BN,IAA1B,EACH,CACJ,CApEkB,CAGf,GAAMO,CAAAA,QAAQ,CAAG,MAAKrC,KAAL,CAAWsC,GAAX,CAAeC,KAAf,CAAqBC,WAAtC,CAEA,MAAKD,KAAL,CAAa,CACTF,QAAQ,CAAEA,QADD,CAETI,aAAa,CAAE,EAFN,CAGTvB,cAAc,CAAE,IAHP,CAITwB,UAAU,CAAE,WAJH,CAKTC,YAAY,CAAE,WALL,CAMTC,gBAAgB,CAAE,aANT,CAOTC,SAAS,CAAE,KAPF,CAQTC,KAAK,CAAE,EARE,CASTtB,WAAW,CAAE,EATJ,CAAb,CAYA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBS,IAAvB,+BAAzB,CAjBe,aAkBlB,C,uJAED,yJACUvC,CAAAA,QAAQ,CAAC,KAAK2C,KAAL,CAAWF,QAAZ,CAAsB,IAAtB,CADlB,4D,mIAkDA,iBAAS,iBACL,mBACI,aAAK,EAAE,CAAC,qBAAR,wBACI,YAAK,EAAE,CAAC,eAAR,uBACI,KAAC,aAAD,EAAe,IAAI,CAAE,WAArB,uBACI,MAAC,YAAD,yBACI,KAAC,WAAD,EAAa,EAAE,CAAC,YAAhB,CAA6B,GAAG,CAAE3C,IAAlC,EADJ,cAEI,aAAK,SAAS,CAAC,OAAf,wBACI,KAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,uBADJ,cAEI,KAAC,YAAD,EAAc,IAAI,CAAC,cAAnB,mBAFJ,cAGI,KAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,uBAHJ,cAII,KAAC,mBAAD,EAAqB,IAAI,CAAC,kBAA1B,sBAJJ,cAKI,KAAC,YAAD,EAAc,IAAI,CAAC,GAAnB,CAAuB,UAAU,CAAE,qBAAM,CAAEG,MAAM,CAAC,MAAI,CAACG,KAAL,CAAWsC,GAAZ,CAAN,CAAwB,CAAnE,qBALJ,GAFJ,GADJ,EADJ,EADJ,cAgBI,YAAK,EAAE,CAAC,cAAR,uBACI,+CAA2B,KAAKC,KAAL,CAAWF,QAAtC,OADJ,EAhBJ,cAmBI,aAAK,EAAE,CAAC,iBAAR,wBACI,yCADJ,cAEI,aAAK,EAAE,CAAC,mBAAR,wBACI,aAAK,EAAE,CAAC,mBAAR,WACK,KAAKE,KAAL,CAAWO,KAAX,GAAqB,EAArB,cACG,YAAK,EAAE,CAAC,mBAAR,CAA4B,GAAG,CAAErD,gBAAjC,EADH,cAEG,YAAK,EAAE,CAAC,mBAAR,CAA4B,GAAG,CAAE,yBAA2B,KAAK8C,KAAL,CAAWO,KAAvE,EAHR,cAKI,YAAK,EAAE,CAAC,mBAAR,uBACI,kDADJ,EALJ,GADJ,cAWI,aAAK,EAAE,CAAC,kBAAR,wBACI,+CADJ,cAEI,cAAM,QAAQ,CAAE,KAAKjB,kBAArB,CAAyC,QAAQ,CAAE,KAAKH,iBAAxD,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,MAAM,CAAC,mBAAvC,EADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,EAFJ,GAFJ,GAXJ,GAFJ,GAnBJ,cAyCI,aAAK,EAAE,CAAC,oBAAR,wBACI,sCADJ,cAEI,YAAK,SAAS,CAAC,iBAAf,uBACI,+CAAa,4BAAQ,KAAKa,KAAL,CAAWF,QAAnB,OAAb,GADJ,EAFJ,cAKI,aAAK,SAAS,CAAC,iBAAf,wBACI,gDAAc,4BAAQ,KAAKE,KAAL,CAAWrB,cAAX,CAA4B,IAAI6B,MAAJ,CAAW,CAAX,CAA5B,CAA4C,KAAKR,KAAL,CAAWE,aAA/D,OAAd,GADJ,cAEI,cAAO,SAAS,CAAC,MAAjB,CAAwB,IAAI,CAAC,MAA7B,CAAoC,EAAE,CAAC,eAAvC,EAFJ,cAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACxC,UAAL,CAAgB,eAAhB,EAAkC,CAAvG,kBAHJ,GALJ,GAzCJ,GADJ,CAyDH,C,6BAjIyBd,KAAK,CAAC6D,S,EAoIpC,cAAejD,CAAAA,eAAf","sourcesContent":["import React from \"react\"\nimport { CurrentHeaderButton, HeaderButton, HeadContainer, HeaderNavBar, HeaderImage } from '../HeaderComponent'\n\nimport sampleProfilePic from \"./imgs/sampleProfilePic.jpg\"\nimport logo from './../../steamIcon2.png'\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { storeImage, getImage } from '../../actions/profilePic'\n\nimport { logout, changePassword } from '../../actions/reactAuth'\n\nimport \"./style.css\"\n\nclass AccountSettings extends React.Component {\n    constructor(props) {\n        super(props)\n\n        const userName = this.props.app.state.currentUser\n\n        this.state = {\n            userName: userName,\n            passwordInput: \"\",\n            passwordHidden: true,\n            steamInput: \"PolarisTM\",\n            ubisoftInput: \"Polaris04\",\n            playstationInput: \"Dancin9D0nZ\",\n            xboxInput: \"N/A\",\n            image: \"\",\n            uploadImage: \"\"\n        }\n\n        this.handleSumbitImage = this.handleSumbitImage.bind(this)\n    }\n\n    async componentDidMount() {\n        await getImage(this.state.userName, this)\n    }\n\n    editAction = input => {\n        if (document.getElementById(input).className === \"hide\") {\n            document.getElementById(input).className = \"show\"\n            let button = document.getElementById(input).parentElement.lastChild\n            button.innerHTML = \"Save\"\n            button.style.backgroundColor = \"#007bff\"\n            button.style.borderColor = \"#007bff\"\n        } else {\n            document.getElementById(input).className = \"hide\"\n            this.setState({\n                [input]: document.getElementById(input).value\n            })\n            if (input === \"passwordInput\") {\n                const newPassword = document.getElementById(input).value\n                console.log(newPassword)\n                changePassword(newPassword)\n                this.setState({ passwordHidden: false })\n            }\n            let button = document.getElementById(input).parentElement.lastChild\n            button.innerHTML = \"Edit\"\n            button.style.backgroundColor = \"#6c757d\"\n            button.style.borderColor = \"#6c757d\"\n        }\n    }\n\n    _handleReaderLoaded = (readerEvent) => {\n        const binaryString = readerEvent.target.result\n        this.setState({\n            uploadImage: btoa(binaryString)\n        })\n    }\n\n    handleSumbitImage = (e) => {\n        e.preventDefault()\n        storeImage(this)\n    }\n\n    handleselectedFile = (e) => {\n        const file = e.target.files[0]\n        if (file) {\n            const reader = new FileReader()\n            reader.onload = this._handleReaderLoaded.bind(this)\n            reader.readAsBinaryString(file)\n        }\n    }\n\n    render() {\n        return (\n            <div id=\"AccountSettingsPage\">\n                <div id=\"HeaderSection\">\n                    <HeadContainer bgId={\"dashboard\"}>\n                        <HeaderNavBar>\n                            <HeaderImage to=\"/dashboard\" src={logo}></HeaderImage>\n                            <div className='group'>\n                                <HeaderButton path='/Dashboard'>Dashboard</HeaderButton>\n                                <HeaderButton path='/ReviewForum'>Forum</HeaderButton>\n                                <HeaderButton path='/Analytics'>Analytics</HeaderButton>\n                                <CurrentHeaderButton path='/AccountSettings'>Settings</CurrentHeaderButton>\n                                <HeaderButton path='/' logoutFunc={() => { logout(this.props.app) }}>Log Out</HeaderButton>\n                            </div>\n                        </HeaderNavBar>\n                    </HeadContainer>\n                </div>\n\n                <div id=\"TitleSection\">\n                    <h1> Account Settings for {this.state.userName} </h1>\n                </div>\n                <div id=\"ProfilePicBlock\">\n                    <h2> Profile Picture </h2>\n                    <div id=\"ProfilePicSection\">\n                        <div id=\"ProfilePicDisplay\">\n                            {this.state.image === \"\" ?\n                                <img id=\"CurrentProfilePic\" src={sampleProfilePic} /> :\n                                <img id=\"CurrentProfilePic\" src={\"data:image/png;base64,\" + this.state.image} />\n                            }\n                            <div id=\"ProfilePicCaption\">\n                                <span> Current Picture ▲ </span>\n                            </div>\n                        </div>\n                        {/* Saving the profile picture to your profile is currently non functional as we need the backend to store the image the user uploads */}\n                        <div id=\"UploadProfilePic\">\n                            <span> Upload a new image: </span>\n                            <form onChange={this.handleselectedFile} onSubmit={this.handleSumbitImage}>\n                                <input type=\"file\" name=\"image\" accept=\".jpeg, .png, .jpg\" />\n                                <input type=\"submit\" />\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                <div id=\"UserDetailsSection\">\n                    <h2> User Details </h2>\n                    <div className=\"TextInputButton\">\n                        <p>Username: <span> {this.state.userName} </span></p>\n                    </div>\n                    <div className=\"TextInputButton\">\n                        <p> Password: <span> {this.state.passwordHidden ? \"*\".repeat(8) : this.state.passwordInput} </span></p>\n                        <input className=\"hide\" type=\"text\" id=\"passwordInput\"></input>\n                        <button type=\"button\" className=\"btn btn-secondary\" onClick={() => { this.editAction(\"passwordInput\") }}>\n                            Edit\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AccountSettings;"]},"metadata":{},"sourceType":"module"}