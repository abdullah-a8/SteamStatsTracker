{"ast":null,"code":"import _regeneratorRuntime from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/abdullah/steam_achievement_tracker-main/achievement-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import ENV from'./../config.js';var API_HOST=ENV.api_host;export var getMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(chatComp,userName,friendName){var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"\".concat(API_HOST,\"/api/chat/\").concat(userName,\"/\").concat(friendName);_context.next=3;return fetch(url).then(function(res){if(res.status===200){return res.json();}else{console.log(\"cannot fetch request\");}}).then(function(json){chatComp.setState({messages:json.messages,chatRoomId:json.id});}).catch(function(error){console.log(error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getMessages(_x,_x2,_x3){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/abdullah/steam_achievement_tracker-main/achievement-tracker/src/actions/chat.js"],"names":["ENV","API_HOST","api_host","getMessages","chatComp","userName","friendName","url","fetch","then","res","status","json","console","log","setState","messages","chatRoomId","id","catch","error"],"mappings":"6WAAA,MAAOA,CAAAA,GAAP,KAAgB,gBAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,QAArB,CAEA,MAAO,IAAMC,CAAAA,WAAW,0FAAG,iBAAOC,QAAP,CAAiBC,QAAjB,CAA2BC,UAA3B,0HACjBC,GADiB,WACRN,QADQ,sBACaI,QADb,aACyBC,UADzB,wBAGjBE,CAAAA,KAAK,CAACD,GAAD,CAAL,CACDE,IADC,CACI,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CAFD,IAEO,CACHC,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACH,CACJ,CAPC,EAQDL,IARC,CAQI,SAAAG,IAAI,CAAI,CACVR,QAAQ,CAACW,QAAT,CAAkB,CAAEC,QAAQ,CAAEJ,IAAI,CAACI,QAAjB,CAA2BC,UAAU,CAAEL,IAAI,CAACM,EAA5C,CAAlB,EACH,CAVC,EAWDC,KAXC,CAWK,SAAAC,KAAK,CAAI,CACZP,OAAO,CAACC,GAAR,CAAYM,KAAZ,EACH,CAbC,CAHiB,uDAAH,kBAAXjB,CAAAA,WAAW,oDAAjB","sourcesContent":["import ENV from './../config.js'\nconst API_HOST = ENV.api_host\n\nexport const getMessages = async (chatComp, userName, friendName) => {\n    const url = `${API_HOST}/api/chat/${userName}/${friendName}`\n\n    await fetch(url)\n        .then(res => {\n            if (res.status === 200) {\n                return res.json();\n            } else {\n                console.log(\"cannot fetch request\")\n            }\n        })\n        .then(json => {\n            chatComp.setState({ messages: json.messages, chatRoomId: json.id })\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}"]},"metadata":{},"sourceType":"module"}