{"ast":null,"code":"var log=console.log;export var getUsersOnAdmin=function getUsersOnAdmin(adminPage){var url='/api/users';fetch(url).then(function(res){if(res.status===200){return res.json();}else{log('Error: Cannot get users');}}).then(function(json){var users=json.users.filter(function(user){return!user.username.startsWith(\"admin\");});adminPage.setState({users:users,usersOnPage:users});}).catch(function(error){log(error);});};export var deleteUserOnAdmin=function deleteUserOnAdmin(user){var url=\"/api/users/\".concat(user.username);var request=new Request(url,{method:'delete',body:JSON.stringify(user),headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'}});fetch(request).then(function(res){if(res.status===200){log(\"User deleted\");}else{log(\"Error: Cannot delete user\");}}).catch(function(error){log(error);});};","map":{"version":3,"sources":["/home/abdullah/steam_achievement_tracker-main/achievement-tracker/src/actions/user.js"],"names":["log","console","getUsersOnAdmin","adminPage","url","fetch","then","res","status","json","users","filter","user","username","startsWith","setState","usersOnPage","catch","error","deleteUserOnAdmin","request","Request","method","body","JSON","stringify","headers"],"mappings":"AAAA,GAAMA,CAAAA,GAAG,CAAGC,OAAO,CAACD,GAApB,CAEA,MAAO,IAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,SAAD,CAAe,CAC1C,GAAMC,CAAAA,GAAG,CAAG,YAAZ,CAEAC,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACU,SAACC,GAAD,CAAS,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpB,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CAFD,IAEO,CACHT,GAAG,CAAC,yBAAD,CAAH,CACH,CACJ,CAPL,EAQKM,IARL,CAQU,SAACG,IAAD,CAAU,CACZ,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACC,KAAL,CAAWC,MAAX,CAAkB,SAAAC,IAAI,CAAI,CACpC,MAAO,CAACA,IAAI,CAACC,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAR,CACH,CAFa,CAAd,CAGAX,SAAS,CAACY,QAAV,CAAmB,CACfL,KAAK,CAAEA,KADQ,CAEfM,WAAW,CAAEN,KAFE,CAAnB,EAIH,CAhBL,EAiBKO,KAjBL,CAiBW,SAACC,KAAD,CAAW,CACdlB,GAAG,CAACkB,KAAD,CAAH,CACH,CAnBL,EAoBH,CAvBM,CAyBP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACP,IAAD,CAAU,CACvC,GAAMR,CAAAA,GAAG,sBAAiBQ,IAAI,CAACC,QAAtB,CAAT,CAEA,GAAMO,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CAAYjB,GAAZ,CAAiB,CAC7BkB,MAAM,CAAE,QADqB,CAE7BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAFuB,CAG7Bc,OAAO,CAAE,CACL,SAAU,mCADL,CAEL,eAAgB,kBAFX,CAHoB,CAAjB,CAAhB,CASArB,KAAK,CAACe,OAAD,CAAL,CACKd,IADL,CACU,SAAUC,GAAV,CAAe,CACjB,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBR,GAAG,CAAC,cAAD,CAAH,CACH,CAFD,IAEO,CACHA,GAAG,CAAC,2BAAD,CAAH,CACH,CACJ,CAPL,EAOOiB,KAPP,CAOa,SAACC,KAAD,CAAW,CAChBlB,GAAG,CAACkB,KAAD,CAAH,CACH,CATL,EAUH,CAtBM","sourcesContent":["const log = console.log\n\nexport const getUsersOnAdmin = (adminPage) => {\n    const url = '/api/users'\n\n    fetch(url)\n        .then((res) => {\n            if (res.status === 200) {\n                return res.json()\n            } else {\n                log('Error: Cannot get users')\n            }\n        })\n        .then((json) => {\n            const users = json.users.filter(user => {\n                return !user.username.startsWith(\"admin\")\n            })\n            adminPage.setState({\n                users: users,\n                usersOnPage: users\n            })\n        })\n        .catch((error) => {\n            log(error)\n        })\n}\n\nexport const deleteUserOnAdmin = (user) => {\n    const url = `/api/users/${user.username}`\n\n    const request = new Request(url, {\n        method: 'delete',\n        body: JSON.stringify(user),\n        headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n        }\n    })\n\n    fetch(request)\n        .then(function (res) {\n            if (res.status === 200) {\n                log(\"User deleted\")\n            } else {\n                log(\"Error: Cannot delete user\")\n            }\n        }).catch((error) => {\n            log(error)\n        })\n}"]},"metadata":{},"sourceType":"module"}